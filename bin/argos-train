#!/usr/bin/env python3
import sys
import os
sys.path.insert(0, os.path.join(os.path.dirname(__file__), ".."))

import argostrain
from argostrain import train
from argostrain.sources import get_source
import argparse

parser = argparse.ArgumentParser(description='Train language models')
parser.add_argument('--from_code',
    type=str,
    default="en",
    help='Source language code. Default: %(default)s')
parser.add_argument('--to_code',
    type=str,
    default="it",
    help='Target language code. Default: %(default)s')
parser.add_argument('--version',
    type=str,
    default="1.0",
    help='Model version. Default: %(default)s')
args = parser.parse_args()
argos_version = "1.5"

try:
    source = get_source(args.from_code, args.to_code)
except Exception as e:
    print(str(e))
    exit(1)

train.train(source, args.version, args.version, argos_version)

